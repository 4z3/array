#!/bin/sh

##
# Array constructor
#
# Eats up all arguments and returns a newline-separated string
array () {
  while [ ! $#  -eq 0 ]; do
    echo "$1" && shift
  done
}

##
# Get length of array
array_len () {
  wc -l
}

##
# Element accessor
#
# Uses first argument as (zero-based) index. Returns 1 on errors.
array_nth () {
  # `local` is not POSIX-compliant (yet), but should run just
  # fine almost everywhere
  local A=0
  while IFS= read element; do
    if [ "$A" -eq "$1" ]; then
      printf "$element" && return 0
    fi
    A=$(expr $A + 1)
  done && return 1
}
